{% include "base.html" %}

{% block title %}Upload{% endblock %}

{% block content %}
<div class="uk-flex-middle">
<div class="uk-card uk-card-default">
  <div class="uk-card-header">
    <h1 class="uk-text-center">Upload Video</h1>
  </div>
  <div class="uk-card-body">
    <form action="" method="post">
          <div class="uk-form-group">
          {% csrf_token %}
          <input type="text">
          <hr><div class="uk-text-center">
          <input type="submit" value="Submit" class="uk-button uk-button-default"/></div>
          </div>
      </form>
  </div>
</div> 
</div>
{% endblock %}

{% block extra_js %}

<script type="text/javascript">
    $(function() {
        var params = {
            // Request parameters
            "name": "{string}",
            "privacy": "{string}",
            "videoUrl": "{string}",
            "language": "{string}",
            "externalId": "{string}",
            "metadata": "{string}",
            "description": "{string}",
            "partition": "{string}",
            "callbackUrl": "{string}",
            "indexingPreset": "{string}",
            "streamingPreset": "{string}",
        };
      
        $.ajax({
            url: "https://videobreakdown.azure-api.net/Breakdowns/Api/Partner/Breakdowns?" + $.param(params),
            beforeSend: function(xhrObj){
                // Request headers
                xhrObj.setRequestHeader("Content-Type","multipart/form-data");
                xhrObj.setRequestHeader("Ocp-Apim-Subscription-Key","{subscription key}");
            },
            type: "POST",
            // Request body
            data: "{body}",
        })
        .done(function(data) {
            alert("success");
        })
        .fail(function() {
            alert("error");
        });
    });
</script>
{% endblock extra_js %}